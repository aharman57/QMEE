# QMEE
Repository for Biology 708 - QMEE

This data comes from pilot studies I have completed for my MSc project. I am working with Lake whitefish (*Coregonus clupeaformis*) and looking at the effect on elevated embryonic incubation temperatures on their temperature preference later in life. I use an instrument called a 'shuttle box' that exposes the fish to changing temperatures over time and several behavioral characteristics are quantified. "Shuttlesoft" is a program that came with the shuttle box system, and it calculates temperature preference every second based on the median occupied temperature of the fish. The .txt that it produces does not have a time variable, rather each data point represents a second of time during the experiment. The two columns of data that I use most often are Object temperature [deg C], and Preferred temperature [deg C]. If I take the median of object temperature it will give the preferred temperature. This was a pilot study, so I only tested one treatment group (control) instead of comparing between treatments. Ultimately I will be testing whether warmer temperatures caused by nuclear power plant thermal effluent can have lasting effects on developing Lake Whitefish embryos. Will they have altered temperature preferences later in life? 

Previously I was running 12hour experiments and breaking up the data into smaller chunks for analysis, so I will try to repeat this process in R. I am trying to optimize my experimental design by reducing the duration of the study, but there is a tradeoff between the amount of data collected (experiment length) and the variability in temperature preference. So I compared larger experiments (12hour) to shorter ones (2hour) by subsetting the data. 


Week 2 Assignment: 

I essentially plan on using all of the data output by Shuttlesoft to calculate a single value: temperature preference. I may involve other variables in a linear regression later on (if a relationship is found), but I am more concerned about comparing average temperature preference between treatment groups rather than investigating the cause of any difference. I will be testing developmental treatments with my experiment, so the conditions I am exposing the fish to in the shuttle box isn't really the "treatment" but more of a behavioral assay to assess temperature preference. 

So right now I am simply looking at comparing means (of temperature preference) between 3 treatment groups (n=30). Each fish will produce a .txt file that will be summarized in a temperature preference value (in R). One R script will be used for cleaning/prepping the .txt files, mean temperature preference and associated variation calculated from the .txt files will be stored in a separate csv. Since my data is repeated measures from a single individual over time, it is essentially pseudoreplication. Because of this I am having a little difficulty describing and comparing the variability (its not technically error) between treatment groups, which will be the bulk of my analysis. I need a way to compare the variability observed between trails (between fish) and the variation in the occupied temperature during a single trial (within fish) to get a better handle on the spread of the data. 

I think I am going to talk to my supervisor and try to get another dataset to use for the class. I like using my own, but there are only a few specific things that I want to do to it.. which is giving me a bit of tunnel vision. I think a new dataset that requires more manipulation and analysis might be better for this course. 


Week 3 Assignment 

I made several graphs that I had previously made in Excel using this data. The first graph shows the occupied location of the fish over the two hours of experiment. There are a lot of fluctuations in Tobj, but they are always 2C as there is a constant delta T maintained. This isn't very useful on its own, but can be used to sort of confirm or double check that the temperature preference profile makes sense. 

The second graph shows the temperature preference calculated over time. PREVIOUSLY I used these graphs to determine to what extent preference varied over the course of the experiment... but after data lunch today I'm not sure if it is communicating what I thought it was. Since it calculates Tpref continuously the values near the end of the experiment are the median of 7200 values, while Tpref at the very start is only the median of a few 100 values (if that makes sense). This graph would possibly still work if I instead used a sliding window for calculating Tpref (instead of taking the Shuttlesoft output). Previously I was using this graph to show that it stabilized over time, but that might just be an artifact of the way Shuttlesoft is calculating Tpref. Fish could show similar trends in Tpref over time, but have quite different occupied temperature profiles. Now I am starting to think of other ways I could visualize this ... or if is even something that helps me make my point. 

The third graph is a histogram showing the number of data points (number of seconds - time) that falls into each temperature bin. This figure gives a (very) rough idea of what temperature zones the fish tended to occupy within the experiment. By looking at this figure you can see this fish spend almost 1500 seconds in 13.5-14 C water, which was very difficult to see on the other graphs. It also shows that the data are not completely normally distributed, which is useful to know.  **BMB**: Normal distribution of the *marginal* distribution is often less useful than you think ...

